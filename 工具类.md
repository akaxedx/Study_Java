# 工具类

类分为三种

JavaBean类

工具类

测试类

工具类构造器私有化，禁止创建对象

## 1.Math(⭐⭐⭐)

Math用来进行数学计算，不能创建对象

### abs

返回参数绝对值

```java
package org.day05;

public class Demo {
    public static void main(String[] args) {
        int abs = Math.abs(10);
        System.out.println(abs);
        int abs1 = Math.abs(-10);
        System.out.println(abs1);
    }
}

```

### ceil floor

向上取整ceil 向下取整floor

```java
package org.day05;

public class Demo {
    public static void main(String[] args) {
        double ceil = Math.ceil(3.1);
        System.out.println(ceil);
        System.out.println("------------------------");
        double floor = Math.floor(3.1);
        System.out.println(floor);
    }
}
/*
4.0
------------------------
3.0
*/


```

### round 

四舍五入

```java
package org.day05;

public class Demo {
    public static void main(String[] args) {
        long round = Math.round(3.499999);
        System.out.println(round);
    }
}
/*
3
*/
```

### max , min
略

### pow

a 的 b次幂

```java
package org.day05;

public class Demo {
    public static void main(String[] args) {
        double pow = Math.pow(2, 3);
        System.out.println(pow);
    }
}
/*
8.0
*/
```

### random 

返回 [0.0,1.0] 的随机double

```java
package org.day05;

public class Demo {
    public static void main(String[] args) {
        double random = Math.random();
        System.out.println(random);
    }
}
```

## 2.System(⭐⭐⭐)

### exit

终止当前虚拟机，非零表示异常终止

结束码会被写进日志

### currentTimeMillis

返回当前时间毫秒值

```java
package org.day05;

public class Demo {
    public static void main(String[] args) {
        long l = System.currentTimeMillis();
        System.out.println(l);
    }
}

//1692016585209
```

### arraycopy

赋值数组

(原数组，起始索引，目标数组，起始索引，复制个数)

```java
package org.day05;

public class Demo {
    public static void main(String[] args) {
        int[] arr = {10,20,30,40,50,60,70};
        int[] brr = new int[10];

        System.arraycopy(arr,2,brr,3,4);
        for (int i = 0; i < brr.length; i++) {
            System.out.print(brr[i] + " ");
        }
    }
}
/*
0 0 0 30 40 50 60 0 0 0 
*/
```

## 3.Object(⭐⭐⭐⭐)

### equals

比较两个引用类型

equals比较内容

自定义的类比较不了内容，原因是String重写了equals方法，所以比较的是地址。手动重写即可，注意强转，自己比自己，自己比空，自己比其他类（*instanceof*关键字）/快捷键，右键生成

```java
package org.day05;

public class Demo {
    public static void main(String[] args) {
        String s = "abc";
        String s1 = new String("abc");
        System.out.println(s == s1);
        boolean equals = s.equals(s1);
        System.out.println(equals);
    }
}
/*
false
true
*/
```

## Objects(⭐)

 Object的工具类

## BigDecimal(⭐⭐⭐⭐)

float 与 double 在计算机中是无法精确表示的


普通构造仍然不准确
```java
package org.day05;

import java.math.BigDecimal;

public class Demo {
    public static void main(String[] args) {
        BigDecimal bd1 = new BigDecimal(0.1);
        BigDecimal bd2 = new BigDecimal(0.7);
        BigDecimal add = bd1.add(bd2);
        System.out.println(add);
    }
}
/*
0.7999999999999999611421941381195210851728916168212890625
*/
```

应当传字符串

```java
package org.day05;

import java.math.BigDecimal;

public class Demo {
    public static void main(String[] args) {
        BigDecimal bd1 = new BigDecimal("0.1");
        BigDecimal bd2 = new BigDecimal("0.7");
        //加法
        BigDecimal add = bd1.add(bd2);
        System.out.println(add);
        //减法
        BigDecimal subtract = bd1.subtract(bd2);
        System.out.println(subtract);
        //乘法
        BigDecimal multiply = bd1.multiply(bd2);
        System.out.println(multiply);
        //除法
        BigDecimal divide = bd2.divide(bd1);
        System.out.println(divide);
        //报错
        //BigDecimal divide1 = bd1.divide(bd2);
        //System.out.println(divide1);
        //不报错,向下取整
        BigDecimal divide2 = bd1.divide(bd2, 2,BigDecimal.ROUND_FLOOR);
        System.out.println(divide2);
        //不报错,向上取整
        BigDecimal divide3 = bd1.divide(bd2, 2,BigDecimal.ROUND_UP);
        System.out.println(divide3);
        //不报错,四舍五入
        BigDecimal divide4 = bd1.divide(bd2, 3,BigDecimal.ROUND_HALF_UP);
        System.out.println(divide4);
    }
}
/*
0.8
-0.6
0.07
7
0.14
0.15
0.143
*/
```

BigDecimal.ROUND_UP等已过时

```java
//@Deprecated 注释已过时

//由于常量可以乱传，因此过时了

//因此用枚举

    BigDecimal divide5 = bd1.divide(bd2, 2, RoundingMode.HALF_UP);
    System.out.println(divide5);
    //0.14

```

## 4.基本类型的包装类(⭐⭐⭐⭐⭐)

基本类型轻便，因此进行包装成引用类型，可以调用方法

### 包装
```java
/*
int     Integer
byte    Byte
short   Short
long    Long
float   Float
double  Double
char    Character
boolean Boolean
*/

```

实用方法(int 为例)

```java

package org.day05;

import java.math.BigDecimal;
import java.math.RoundingMode;

public class Demo {
    public static void main(String[] args) {
        System.out.println(Integer.MAX_VALUE);
        System.out.println(Integer.MIN_VALUE);
        //2进制
        String binaryString = Integer.toBinaryString(17);
        System.out.println(binaryString);
        //8进制
        String octalString = Integer.toOctalString(17);
        System.out.println(octalString);
        //16进制
        String hexString = Integer.toHexString(17);
        System.out.println(hexString);
        //与String的转换
        // int -> String
        String str = 10 + "";
        String str1 = String.valueOf(10);
        String str2 = Integer.toString(10);
        System.out.println(str);
        System.out.println(str1);
        System.out.println(str2);
        //String -> int
        String s = "10";
        Integer in = Integer.valueOf(s);
        int i = in;
        int i1 = Integer.parseInt(s);
        System.out.println(i);
        System.out.println(i1);
        //Character 没有parseXxx

    }
}

```

## 5.Arrays

### 排序(快速排序)

```java
package org.day05;

import java.util.Arrays;

public class Utils {
    public static void main(String[] args) {
        int[] arr = {7,5,6,9,3,4,9,5,1,3,6,4,8};
        Arrays.sort(arr);
        System.out.println(Arrays.toString(arr));
    }
}

```

## 6.Data

```java
package org.day05;

import java.util.Date;

public class Utils {
    public static void main(String[] args) {
        Date d = new Date();//无参，当前时间
        Date d2 = new Date(0);//有参，毫秒值，距离1970年1月1日八点

        //time 成员变量 毫秒值
        long time = d.getTime();
        System.out.println(time);
        System.out.println(System.currentTimeMillis());
        d.setTime(0);
        System.out.println(d);
    }
}

```

## 7.SimpleDateFormat

### 格式化date

```java
package org.day05;

import java.text.SimpleDateFormat;
import java.util.Date;

public class Utils {
    public static void main(String[] args) {
        Date d = new Date();// 格式不好
        SimpleDateFormat sdf = new SimpleDateFormat("yyyy年MM月dd日 HH:mm:ss");
        String format = sdf.format(d);
        System.out.println(format);
    }
}

```

### 解析

```java
package org.day05;

import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.Date;

public class Utils {
    public static void main(String[] args) throws ParseException {
        String str = "2023年08月16日 20:46:31";
        SimpleDateFormat sdf = new SimpleDateFormat("yyyy年MM月dd日 HH:mm:ss");
        Date parse = sdf.parse(str);
        System.out.println(parse);
    }
}

```

## 8.ArrayList

### 集合体系

Collection 单列集合顶层接口

set -- 接口 自动去重 没索引
    HashSet 类
    TreeSet 类
List -- 接口 不去重 有索引
    ArrayList 类
    LinkedList 类

Map 双列集合顶层接口
    HashMap 类
    TreeMap 类

#### Collection的共性

```java
package org.day05;

import java.text.ParseException;
import java.util.ArrayList;
import java.util.Collection;
import java.util.function.Predicate;


public class Utils {
    public static void main(String[] args) {
        /*Collection的共性
        * boolean add(E e)              添加元素
        * boolean remove(Object o)      从集合中移除指定元素
        * boolean removeIf(Predicate o) 根据条件进行删除
        * void clear()                  清空集合
        * boolean contains(Object o)    判断集合是否为空
        * int size()                    集合的长度，集合中元素的个数
        * */
        Collection<String> col = new ArrayList<>();//多态中，父类有的才可以调用
        col.add("abc");
        col.add("abc1");
        col.add("abc2");
        col.add("abc3");
        col.add("ab");
        col.add("a");
        col.remove("abc1");
        boolean bcd = col.remove("bcd");
        System.out.println(bcd);
       /* col.removeIf(new Predicate<String>() {
            @Override
            public boolean test(String s) { //s是col 集合中存储的元素
                return s.length()<4;
            }
        });*/
        //lambda表达式
        col.removeIf(s->s.length()<4);
        System.out.println(col);
        boolean abc = col.contains("abc");
        System.out.println(abc);
        col.clear();
        System.out.println(col);
        //......
    }
}

```

#### Collection 的共性 遍历 迭代器

```java
package org.day05;

import java.text.ParseException;
import java.util.ArrayList;
import java.util.Collection;
import java.util.Iterator;
import java.util.function.Predicate;


public class Utils {
    public static void main(String[] args) {

        Collection<String> col = new ArrayList<>();
        col.add("abc");
        col.add("abc1");
        col.add("abc2");
        col.add("abc3");
        col.add("abc4");
       /* for (int i = 0; i < col.size(); i++) {
            //System.out.println(col.get(i)); 报错捏 ArrayList不报错因为get是ArrayList的特有方法
            //共性遍历 "迭代器"

        }*/
        
        Iterator<String> iterator = col.iterator();
        //不用for循环
        /*
        for (int i = 0; i < col.size(); i++) {
            System.out.print(iterator.next()+" ");
        }*/
        while (iterator.hasNext()){
            System.out.println(iterator.next());
        }
    }
}

```

#### 迭代器 remove

```java
package org.day05;

import java.text.ParseException;
import java.util.ArrayList;
import java.util.Collection;
import java.util.Iterator;
import java.util.function.Predicate;


public class Utils {
    public static void main(String[] args) {
        //ArrayList的删除
        ArrayList<String> al = new ArrayList<>();
        al.add("abc");
        al.add("a");
        al.add("a");
        al.add("a");
        al.add("abc4");
        for (int i = 0; i < al.size(); i++) {
            String s = al.get(i);
            if("a".equals(s)){
                al.remove(i);
                i--;
            }
        }
        System.out.println(al);

        ArrayList<String> al2 = new ArrayList<>();
        al2.add("abc");
        al2.add("a");
        al2.add("a");
        al2.add("a");
        al2.add("abc4");
        for (int i = al2.size() - 1; i >= 0; i--) {
            String s1 = al2.get(i);
            if("a".equals(s1)){
                al2.remove(i);
            }
        }
        System.out.println(al2);

        ArrayList<String> al3 = new ArrayList<>();
        al3.add("abc");
        al3.add("a");
        al3.add("a");
        al3.add("a");
        al3.add("abc4");
        while (al3.remove("a"));//时间复杂度太高 n^2
        System.out.println(al3);
        //Collection的删除 迭代器
        Collection<String> col = new ArrayList<>();
        col.add("abc");
        col.add("a");
        col.add("a");
        col.add("a");
        col.add("abc4");
        Iterator<String> iterator = col.iterator();
        while (iterator.hasNext()){
            String next = iterator.next();
            if(next.equals("a")){
                iterator.remove();
            }
        }
        System.out.println(col);
        //removeIf
        Collection<String> col2= new ArrayList<>();
        col2.add("abc");
        col2.add("a");
        col2.add("a");
        col2.add("a");
        col2.add("abc4");
        col2.removeIf(s->s.equals("a"));
        System.out.println(col2);
    }
}

```

#### java 用 增强 for 解决了迭代器复杂的问题


```java
package org.day05;


import java.util.ArrayList;
import java.util.Collection;


public class Utils {
    public static void main(String[] args) {
        Collection<String> col = new ArrayList<>();
        col.add("abc");
        col.add("a");
        col.add("a");
        col.add("a");
        col.add("abc4");
        for (String s : col) {
            System.out.println(s);
        }

    }
}

```

增强for底层是迭代器

所以具备迭代器的东西都可以被增强for遍历

只要实现了Iterable接口的都可以被增强for遍历


定长自定义集合：
```java

package org.day05;


import java.util.ArrayList;
import java.util.Collection;
import java.util.Iterator;


public class Utils {
    public static void main(String[] args) {
        MyArrayList mal = new MyArrayList();
        mal.add("a");
        mal.add("a");
        mal.add("a");
        mal.add("a");
        mal.add("a");
        mal.add("a");
        mal.add("a");
        mal.add("a");
        mal.add("a");
        mal.add("a");

        for (String s : mal) {
            System.out.println(s);
        }
        /*增强for 的底层：
        Iterator<String> it = col.iterator();
        while(it.hasNext()){
            String s = it.next();
            System.out.println(s);
        }
        */
    }
}

class MyArrayList implements Iterable<String>{
    private String[] strs = new String[10];
    private int size = 0;
    public void add(String str){
        if(size>=10){
            throw new OverTenLengthException("此集合最多添加10个数据");
        }
        strs[size++] = str;
    }

    public int size(){
        return size;
    }

    public String get(int index){
        return strs[index];
    }

    @Override
    public Iterator<String> iterator() {
        //return null;
        return new Iterator<String>() {
            private int i = 0;
            @Override
            public boolean hasNext() {
                if(i>=size){
                    return false;
                }
                return true;
            }

            @Override
            public String next() {
                return strs[i++];
            }
        };
    }
}

class OverTenLengthException extends RuntimeException{
    public OverTenLengthException(){}
    public OverTenLengthException(String message){
        super(message);
    }
}

```